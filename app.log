
> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

Attempting to connect to PuppyGraph (attempt 1/10)...
Connection attempt 1 failed: Failed to connect to server. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0. Caused by: read ECONNRESET
Retrying in 5000ms...
3:35:27 PM [express] serving on port 5000
Attempting to connect to PuppyGraph (attempt 2/10)...
Connection attempt 2 failed: Failed to connect to server. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0. Caused by: read ECONNRESET
Retrying in 5000ms...
Attempting to connect to PuppyGraph (attempt 3/10)...
Connection attempt 3 failed: Failed to connect to server. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0. Caused by: read ECONNRESET
Retrying in 5000ms...
Attempting to connect to PuppyGraph (attempt 4/10)...
Connection attempt 4 failed: Failed to connect to server. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0. Caused by: read ECONNRESET
Retrying in 5000ms...
Browserslist: browsers data (caniuse-lite) is 11 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme

A PostCSS plugin did not pass the `from` option to `postcss.parse`. This may cause imported assets to be incorrectly transformed. If you've recently added a PostCSS plugin that raised this warning, please contact the package author to fix the issue.
3:35:43 PM [express] GET /api/metrics 304 in 24ms :: {"totalEntities":35,"activeRelationships":25,"t…
Attempting to connect to PuppyGraph (attempt 5/10)...
Connection attempt 5 failed: Connection was closed by server
Retrying in 5000ms...
Executing graph query: MATCH (c:Company {sector: 'Financial Services'})<-[:EMPLOYED_BY]-(p:Person) RETURN c, p
Error executing graph query: Error: PuppyGraph client is not connected. Please ensure PuppyGraph service is running.
    at PuppyGraphClient.executeCypherQuery (/Users/davidhughes/dev/puppygraphagents/server/graph/puppygraph_client.ts:97:13)
    at <anonymous> (/Users/davidhughes/dev/puppygraphagents/server/routes.ts:261:45)
    at Layer.handle [as handle_request] (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/layer.js:95:5)
    at /Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/Users/davidhughes/dev/puppygraphagents/server/index.ts:49:3)
    at Layer.handle [as handle_request] (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:328:13)
    at /Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/davidhughes/dev/puppygraphagents/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:328:13)
    at /Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:280:10)
    at /Users/davidhughes/dev/puppygraphagents/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
    at invokeCallback (/Users/davidhughes/dev/puppygraphagents/node_modules/raw-body/index.js:238:16)
    at done (/Users/davidhughes/dev/puppygraphagents/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/Users/davidhughes/dev/puppygraphagents/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:507:28)
    at endReadableNT (node:internal/streams/readable:1696:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
3:35:47 PM [express] POST /api/graph/query 500 in 4ms :: {"error":"Failed to execute graph query","d…
Executing graph query: MATCH (c:Company)-[:HAS_RATING]->(r:Rating) RETURN c, r
Error executing graph query: Error: PuppyGraph client is not connected. Please ensure PuppyGraph service is running.
    at PuppyGraphClient.executeCypherQuery (/Users/davidhughes/dev/puppygraphagents/server/graph/puppygraph_client.ts:97:13)
    at <anonymous> (/Users/davidhughes/dev/puppygraphagents/server/routes.ts:261:45)
    at Layer.handle [as handle_request] (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/layer.js:95:5)
    at /Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/Users/davidhughes/dev/puppygraphagents/server/index.ts:49:3)
    at Layer.handle [as handle_request] (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:328:13)
    at /Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/davidhughes/dev/puppygraphagents/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:328:13)
    at /Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:280:10)
    at /Users/davidhughes/dev/puppygraphagents/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
    at invokeCallback (/Users/davidhughes/dev/puppygraphagents/node_modules/raw-body/index.js:238:16)
    at done (/Users/davidhughes/dev/puppygraphagents/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/Users/davidhughes/dev/puppygraphagents/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:507:28)
    at endReadableNT (node:internal/streams/readable:1696:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
3:35:50 PM [express] POST /api/graph/query 500 in 5ms :: {"error":"Failed to execute graph query","d…
Attempting to connect to PuppyGraph (attempt 6/10)...
Connection attempt 6 failed: Failed to connect to server. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0. Caused by: read ECONNRESET
Retrying in 5000ms...
Attempting to connect to PuppyGraph (attempt 7/10)...
Connection attempt 7 failed: Failed to connect to server. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0. Caused by: read ECONNRESET
Retrying in 5000ms...
Attempting to connect to PuppyGraph (attempt 8/10)...
Connection attempt 8 failed: Failed to connect to server. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0. Caused by: read ECONNRESET
Retrying in 5000ms...
Attempting to connect to PuppyGraph (attempt 9/10)...
Connection attempt 9 failed: Failed to connect to server. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0. Caused by: read ECONNRESET
Retrying in 5000ms...
Attempting to connect to PuppyGraph (attempt 10/10)...
Connection attempt 10 failed: Failed to connect to server. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0. Caused by: read ECONNRESET
PuppyGraph client initialization failed, will retry in background: PuppyGraph connection failed after 10 attempts: Failed to connect to server. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0. Caused by: read ECONNRESET
3:36:14 PM [express] POST /api/graph/query 400 in 0ms :: {"error":"Invalid input parameters","detail…
Executing graph query: MATCH (c:Company)-[:HAS_RATING]->(r:Rating) RETURN c, r LIMIT 10
Error executing graph query: Error: PuppyGraph client is not connected. Please ensure PuppyGraph service is running.
    at PuppyGraphClient.executeCypherQuery (/Users/davidhughes/dev/puppygraphagents/server/graph/puppygraph_client.ts:97:13)
    at <anonymous> (/Users/davidhughes/dev/puppygraphagents/server/routes.ts:261:45)
    at Layer.handle [as handle_request] (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/layer.js:95:5)
    at /Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/Users/davidhughes/dev/puppygraphagents/server/index.ts:49:3)
    at Layer.handle [as handle_request] (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:328:13)
    at /Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/Users/davidhughes/dev/puppygraphagents/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:328:13)
    at /Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/davidhughes/dev/puppygraphagents/node_modules/express/lib/router/index.js:280:10)
    at /Users/davidhughes/dev/puppygraphagents/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
    at invokeCallback (/Users/davidhughes/dev/puppygraphagents/node_modules/raw-body/index.js:238:16)
    at done (/Users/davidhughes/dev/puppygraphagents/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/Users/davidhughes/dev/puppygraphagents/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:507:28)
    at endReadableNT (node:internal/streams/readable:1696:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
3:36:17 PM [express] POST /api/graph/query 500 in 1ms :: {"error":"Failed to execute graph query","d…
Attempting to connect to PuppyGraph (attempt 1/10)...
Connected to PuppyGraph via Bolt protocol on port 7687
Executing graph query: MATCH (c:Company)-[:HAS_RATING]->(r:Rating) RETURN c, r LIMIT 10
3:36:25 PM [express] POST /api/graph/query 200 in 85ms :: {"success":true,"nodes":[{"id":"Company[a6…
3:36:36 PM [express] GET /api/metrics 304 in 35ms :: {"totalEntities":35,"activeRelationships":25,"t…
Executing graph query: MATCH (c:Company {sector: 'Financial Services'})<-[:EMPLOYED_BY]-(p:Person) RETURN c, p
3:36:41 PM [express] POST /api/graph/query 200 in 94ms :: {"success":true,"nodes":[{"id":"Company[d5…
Executing graph query: MATCH (c:Company)-[:HAS_RATING]->(r:Rating) RETURN c, r
3:36:57 PM [express] POST /api/graph/query 200 in 53ms :: {"success":true,"nodes":[{"id":"Rating[1af…
Executing graph query: MATCH (c:Company)-[:HAS_RATING]->(r:Rating) RETURN c, r
3:37:10 PM [express] POST /api/graph/query 200 in 51ms :: {"success":true,"nodes":[{"id":"Company[55…
